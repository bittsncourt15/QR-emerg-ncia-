<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>QR de Emergência</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body { font-family: Arial; padding: 20px; }
    input, textarea { width: 100%; margin-bottom: 10px; padding: 8px; }
    #qrcode { margin-top: 20px; }
  </style>
</head>
<body>
  <h2>Gerador de QR Code com dados de emergência</h2>
  <form id="form">
    <label>Nome completo:</label><input type="text" id="nome" required>
    <label>Tipo sanguíneo:</label><input type="text" id="sangue" required>
    <label>Condições médicas:</label><textarea id="cond"></textarea>
    <label>Medicamentos que usa:</label><textarea id="meds"></textarea>
    <label>Contato de emergência (nome e telefone):</label><input type="text" id="contato" required>
    <button type="submit">Gerar QR Code</button>
  </form>
  <div id="qrcode"></div>
  <script>
    document.getElementById('form').addEventListener('submit', function(e){
      e.preventDefault();
      const nome=encodeURIComponent(document.getElementById('nome').value);
      const sangue=encodeURIComponent(document.getElementById('sangue').value);
      const cond=encodeURIComponent(document.getElementById('cond').value);
      const meds=encodeURIComponent(document.getElementById('meds').value);
      const contato=encodeURIComponent(document.getElementById('contato').value);
      const url=`perfil.html?nome=${nome}&sangue=${sangue}&cond=${cond}&meds=${meds}&contato=${contato}`;
      document.getElementById("qrcode").innerHTML="";
      new QRCode(document.getElementById("qrcode"), { text:url, width:256, height:256 });
      this.reset();
    });
  </script>
</body>
</html>
